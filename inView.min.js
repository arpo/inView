/*
 Mattias Johansson
 License http://opensource.org/licenses/MIT
*/
var MOS=window.MOS||{};
MOS.inView=function(){function h(a,b,c){var d;$(window).on(a,function(){d&&window.clearTimeout(d);d=window.setTimeout(b,c)})}function e(){var a=f.length,b,c,d=[],e=[];for(b=0;b<a;b+=1)f[b].each(function(a){c=$(this);var b=c;a=b[0].getBoundingClientRect();var f=b.outerHeight(),b=b.outerWidth();a=a.top>=-1*f&&a.bottom<=window.innerHeight+1*f&&a.left>=-1*b&&a.right<=window.innerWidth+1*b?!0:!1;a?d.push(c):e.push(c)});return{isVisible:d,notVisible:e}}function g(a){var b=a.isVisible.length,c,d="";for(c=
0;c<b;c+=1)d+=a.isVisible[c].attr("id")+", ";$.event.trigger({type:"MOS.inViewCheck",states:a});MOS.inView.doTrace&&MOS.inView.doTrace&&(a=d+" ",window.traceOut||(window.traceOut={container:$('<div id="traceOut" style="border: 1px solid #eee;text-align: left; z-index: 9999; position: fixed; right:10px; top: 10px; width: 280px; padding:10px; background-color: #fff;font-family:sans-serif;font-size:12px; color:#000;"></div>'),outs:{}},$(document.body).append(window.traceOut.container)),b="Visible",a&&
(b="Visible: "+a),window.traceOut.outs.Visible?window.traceOut.outs.Visible.html(b):(window.traceOut.container.append($('<div class="Visible">'+b+"</div>")),window.traceOut.outs.Visible=$("#traceOut .Visible")))}function k(){h("scroll",function(a){g(e())},300);h("resize",function(a){g(e())},300);k=function(){}}var l=console?console:{log:function(){}};l.l=l.log;var f=[];return{add:function(a){k();f.push(a)},whatsVisible:e,check:function(){g(e())},doTrace:!1,clear:function(){f.length=0}}}();